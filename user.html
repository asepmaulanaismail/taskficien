<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Taskficien</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="Assets/Style/bootstrap/css/bootstrap.css" rel="stylesheet">
    <style>
		body {
			padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
		}

		.btn-div{
			margin-bottom: 10px;
		}
		
		.btn{
			margin-left: 3px;
			margin-right: 3px;
		}
    </style>
    <link href="Assets/Style/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="bootstrap/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="Assets/Style/bootstrap/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="Assets/Style/bootstrap/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="Assets/Style/bootstrap/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="Assets/Style/bootstrap/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="Assets/Style/bootstrap/ico/favicon.ico">
								   
	<script src="http://code.jquery.com/jquery-1.7.2.min.js" type="text/javascript" language="JavaScript" ></script>
    <script src="http://underscorejs.org/underscore-min.js" type="text/javascript" language="JavaScript" ></script>
    <script src="http://backbonejs.org/backbone-min.js" type="text/javascript" language="JavaScript" ></script>
    <script src="Assets/Scripts/backbone.js" type="text/javascript" language="JavaScript" ></script>
    <script src="Assets/Scripts/taskficien.js" type="text/javascript" language="JavaScript" ></script>
    <script src="Assets/Scripts/common.js" type="text/javascript" language="JavaScript" ></script>
	
	<!-- load javascript function -->
    <script src="Assets/Scripts/user.js" type="text/javascript" language="JavaScript" ></script>
	
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="#">Taskficien</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li id="home" onclick="javascript: goToFile('dashboard');"><a href="#">Dashboard</a></li>
              <li id="users" onclick="javascript: goToFile('user');"><a href="#">Users</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">
		<div class="row-fluid">
			<div class="span12">
				<div class="row-fluid">
					<div class="span12" style="text-align: left;">
						<h3 id="title" >Users</h3>
					</div>
				</div>
				<hr/>
				<div class="row-fluid">
					<div class="span12" id="searchArea">
						<!-- render area for search options -->
						<form id="formSearch">
							<div class="row-fluid">
								<div class="span8" style="vertical-align: bottom;">
									<input type="text" id="searchUsername" placeholder="Username"/>
									<input type="text" id="searchName" placeholder="Name"/>
									<input type="text" id="searchEmail" placeholder="Email (ex: taskficien@gmail.com)" />
								</div>
								<div class="span4" style="vertical-align: bottom;">
									<input type="button" name="btnClear" class="btn btn-primary" value="Clear"  onClick="javascript: doClear()" style="float: right;"/>
									<input type="button" name="btnSubmit" class="btn btn-primary" value="Search" onClick="javascript: doSearch()" style="float: right;"/>
								</div>
							</div>
						</form>
					</div>
				</div>
				<div class="row-fluid btn-div">
					<div class="span6" align="left" id="btnArea">
						<button class="btn btn-primary" id="btnAdd" type="button"  onclick="javascript: goToFile('user-add');"><i class="icon-plus icon-white"></i> Add</button>
						<button class="btn btn-primary disabled" id="btnEdit" type="button"><i class="icon-pencil icon-white"></i> Edit</button>
						<button class="btn btn-primary disabled" id="btnDelete" type="button"><i class="icon-remove icon-white"></i> Delete</button>
					</div>
					<div class="span6">
					</div>
				</div>
				<div class="row-fluid">
					<div class="span12" id="renderArea">
						<!-- render area for body page -->
					</div>
				</div>
			</div>
		</div>

    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="Assets/Style/bootstrap/js/jquery.js"></script>
    <script src="Assets/Style/bootstrap/js/bootstrap-transition.js"></script>
    <script src="Assets/Style/bootstrap/js/bootstrap-alert.js"></script>
    <script src="Assets/Style/bootstrap/js/bootstrap-modal.js"></script>
    <script src="Assets/Style/bootstrap/js/bootstrap-dropdown.js"></script>
    <script src="Assets/Style/bootstrap/js/bootstrap-scrollspy.js"></script>
    <script src="Assets/Style/bootstrap/js/bootstrap-tab.js"></script>
    <script src="Assets/Style/bootstrap/js/bootstrap-tooltip.js"></script>
    <script src="Assets/Style/bootstrap/js/bootstrap-popover.js"></script>
    <script src="Assets/Style/bootstrap/js/bootstrap-button.js"></script>
    <script src="Assets/Style/bootstrap/js/bootstrap-collapse.js"></script>
    <script src="Assets/Style/bootstrap/js/bootstrap-carousel.js"></script>
    <script src="Assets/Style/bootstrap/js/bootstrap-typeahead.js"></script> 
	<script>
		(function($){
			removeRenderedPart();
			var app = new UserView();
		})(jQuery);
		
		function doSearch(){
			var params = "";
			
			if ($("#searchUsername").val() != "" && $("#searchUsername").val() != undefined){
				params += "username__contains=" + $("#searchUsername").val() + "&";
			}
			
			if ($("#searchName").val() != "" && $("#searchName").val() != undefined){
				debugger;
				var name = $("#searchName").val().split(' ');
				params += "first_name__contains=" + name[0] + "&";
				
				if (name.length > 1)
					params += "last_name__contains=" + name[1] + "&";
			}
			
			if ($("#searchEmail").val() != "" && $("#searchEmail").val() != undefined){
				params += "email__contains=" + $("#searchEmail").val();
			}
				
			removeRenderedPart();
			var app = new UserView(params);
		}
		
		function doClear(){
			$("#searchUsername").val("");
			$("#searchName").val("");
			$("#searchEmail").val("");
			
			removeRenderedPart();
			var app = new UserView();
		}
	</script>
  </body>
</html>
